<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Demands list</ion-title>
  </ion-toolbar>
  <ion-fab vertical="top" horizontal="end" style="margin-top: 7%; margin-right: 7%;">
    <ion-fab-button (click)="routePageClicked('request/register')">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-header>

<ion-content>
  <div style="text-align: right; margin-top:11%; margin-right: 6px;;">(Ask your needs)</div>
  <ion-searchbar animated="true" mode="ios" placeholder="Search Product" #filter_term>
  </ion-searchbar>
  <ion-card *ngFor="let request of request_details | requestCropFilter: filter_term.value"
    (click)="requestDetailsClicked(request)">
    <ion-row>
      <ion-col size="3">
        <ion-avatar>
          <!-- <ion-img src="assets/plant_icons/Tomato.svg"></ion-img> -->
          <img [src]="product_images[request.product_id]" style="width: 100%; height:100%;"
            *ngIf="product_images.hasOwnProperty(request.product_id)">
            <img src="assets/dashboard-icon/no_image.svg" style="width: 100%; height:100%;"
              *ngIf="!product_images.hasOwnProperty(request.product_id)">
        </ion-avatar><br>
        <ion-label style="font-style: italic;font-size: 12px;">{{request['requested_date'] | timeDiffInYears}}
        </ion-label>
      </ion-col>
      <ion-col style="font-size: 20px;">
        <ion-label>Need {{request['product_name']}} {{request['quantity']}}{{request['unit_name']}}</ion-label><br>
        <ion-label>in {{request['district']}}, {{request['state']}}</ion-label><br>
        <ion-button size="small" style="margin-left: 50%;">Know more</ion-button>
      </ion-col>
    </ion-row>
  </ion-card>
</ion-content>